---
import SearchCompuonent from "../components/astro/SearchCompuonent.astro";
import SerchAutocomplete from "../components/astro/SerchAutocomplete.astro";
import Base from "../layout/Base.astro";
// import SerchAutocomplete from "../components/astro/SerchAutocomplete.astro";

const searchString = Astro.url.searchParams.get("search") || "";
const normallized: string = searchString
  .padStart(searchString.length + 2, "`'")
  .padEnd(searchString.length + 4, "`'")
  .replaceAll(" ", `' & '`);
---

<Base title={searchString} map={true}>
  <SerchAutocomplete />
  <SearchCompuonent normallized={normallized} server:defer>
    <div slot="fallback">loading...</div>
  </SearchCompuonent>
</Base>
